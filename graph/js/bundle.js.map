{"version":3,"sources":["../../shared/Ball.js","../../shared/Graph.js","index.js"],"names":["Ball","opt","radius","color","x","y","vx","vy","prototype","drawOnCanvas","ctx","fillStyle","beginPath","arc","Math","PI","closePath","fill","Graph","context","xmin","xmax","ymin","ymax","x0","y0","width","height","xmajor","xminor","ymajor","yminor","xRange","yRange","xdivs","ydivs","xtick","ytick","xUnitToPxMult","yUnitToPxMult","xticksFromOrigin","xpixelsFromOrigin","abs","xStart","xEnd","yticksFromOrigin","ypixelsFromOrigin","yStart","yEnd","strokeStyle","moveTo","lineTo","stroke","x_tick_major","y_tick_major","font","textAlign","textBaseline","curr_x","curr_y","fillText","xlabel","ylabel","xvals","yvals","dots","lines","xvalsPx","map","xValToPx","yvalsPx","yValToPx","i","length","val","pxFromOrigin","fn","numPoints","retObj","xVals","yVals","push","canvas","document","querySelector","getContext","graph","drawgrid","drawaxes","createPoints","plot","ball","interval","n","placeBall","animateBall","setupTimer","setInterval","moveBall","clearRect","clearInterval"],"mappings":"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","file":"bundle.js","sourceRoot":"","sourcesContent":["export function Ball(\r\n  opt = { radius: 20, color: \"#0000ff\", x: 50, y: 50, vx: 2, vy: 2 }\r\n) {\r\n  this.radius = opt.radius ?? 20;\r\n  this.color = opt.color ?? \"#0000ff\";\r\n  this.x = opt.x ?? 50;\r\n  this.y = opt.y ?? 50;\r\n  this.vx = opt.vx ?? 2;\r\n  this.vy = opt.vy ?? 0;\r\n}\r\n\r\nBall.prototype.drawOnCanvas = function (ctx) {\r\n  ctx.fillStyle = this.color;\r\n  ctx.beginPath();\r\n  ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);\r\n  ctx.closePath();\r\n  ctx.fill();\r\n};\r\n","export class Graph {\r\n  /**\r\n   *\r\n   * @param {Context} context\r\n   * @param {Number} xmin\r\n   * @param {Number} xmax\r\n   * @param {Number} ymin\r\n   * @param {Number} ymax\r\n   * @param {Number} x0\r\n   * @param {Number} y0\r\n   * @param {Number} width\r\n   * @param {Number} height\r\n   */\r\n  constructor(context, xmin, xmax, ymin, ymax, x0, y0, width, height) {\r\n    this.ctx = context;\r\n    this.xmin = xmin;\r\n    this.xmax = xmax;\r\n    this.ymin = ymin;\r\n    this.ymax = ymax;\r\n    this.x0 = x0;\r\n    this.y0 = y0;\r\n    this.width = width;\r\n    this.height = height;\r\n  }\r\n\r\n  /**\r\n   * Draws a grid on the graph\r\n   * @param {Number} xmajor\r\n   * @param {Number} xminor\r\n   * @param {Number} ymajor\r\n   * @param {Number} yminor\r\n   */\r\n  drawgrid(xmajor, xminor, ymajor, yminor) {\r\n    const xRange = this.xmax - this.xmin;\r\n    const yRange = this.ymax - this.ymin;\r\n    const xdivs = xRange / xminor;\r\n    const ydivs = yRange / yminor;\r\n    // ticks in px\r\n    this.xtick = this.width / xdivs;\r\n    this.ytick = this.height / ydivs;\r\n\r\n    // for plotting\r\n    this.xUnitToPxMult = this.xtick / xminor;\r\n    this.yUnitToPxMult = this.ytick / yminor;\r\n\r\n    // find startX in on canvas\r\n    const xticksFromOrigin = this.xmin / xminor;\r\n    const xpixelsFromOrigin = Math.abs(xticksFromOrigin * this.xtick);\r\n    this.xStart =\r\n      xticksFromOrigin < 0\r\n        ? this.x0 - xpixelsFromOrigin\r\n        : this.x0 + xpixelsFromOrigin;\r\n    this.xEnd = this.xStart + xdivs * this.xtick; // in px\r\n    // find startY on canvas\r\n    const yticksFromOrigin = this.ymin / yminor;\r\n    const ypixelsFromOrigin = Math.abs(yticksFromOrigin * this.ytick);\r\n    this.yStart =\r\n      yticksFromOrigin < 0\r\n        ? this.y0 + ypixelsFromOrigin\r\n        : this.y0 - ypixelsFromOrigin;\r\n    this.yEnd = this.yStart - ydivs * this.ytick; // in px\r\n\r\n    this.ctx.strokeStyle = \"lightgray\";\r\n\r\n    // draw minor divisions\r\n    this.ctx.beginPath();\r\n    for (let x = this.xStart; x <= this.xEnd; x += this.xtick) {\r\n      this.ctx.moveTo(x, this.yStart);\r\n      this.ctx.lineTo(x, this.yEnd);\r\n    }\r\n\r\n    for (let y = this.yStart; y >= this.yEnd; y -= this.ytick) {\r\n      this.ctx.moveTo(this.xStart, y);\r\n      this.ctx.lineTo(this.xEnd, y);\r\n    }\r\n    this.ctx.stroke();\r\n\r\n    // major ticks\r\n    const x_tick_major = this.xtick * (xmajor / xminor);\r\n    const y_tick_major = this.ytick * (ymajor / yminor);\r\n\r\n    // draw major division\r\n    this.ctx.strokeStyle = \"#999999\";\r\n    this.ctx.beginPath();\r\n    for (let x = this.xStart; x <= this.xEnd; x += x_tick_major) {\r\n      this.ctx.moveTo(x, this.yStart);\r\n      this.ctx.lineTo(x, this.yEnd);\r\n    }\r\n    for (let y = this.yStart; y >= this.yEnd; y -= y_tick_major) {\r\n      this.ctx.moveTo(this.xStart, y);\r\n      this.ctx.lineTo(this.xEnd, y);\r\n    }\r\n    this.ctx.stroke();\r\n\r\n    // display font\r\n    this.ctx.font = \"10pt Arial\";\r\n    this.ctx.fillStyle = \"#000000\";\r\n    this.ctx.textAlign = \"right\";\r\n    this.ctx.textBaseline = \"top\";\r\n\r\n    // draw labels\r\n    let curr_x = this.xmin;\r\n    let curr_y = this.ymin;\r\n\r\n    this.ctx.beginPath();\r\n    for (let x = this.xStart; x <= this.xEnd; x += x_tick_major) {\r\n      this.ctx.fillText(curr_x, x + 2, this.y0 + 5);\r\n      curr_x += xmajor;\r\n    }\r\n    for (let y = this.yStart; y >= this.yEnd; y -= y_tick_major) {\r\n      this.ctx.fillText(curr_y, this.x0 - 5, y - 5);\r\n      curr_y += ymajor;\r\n    }\r\n    this.ctx.stroke();\r\n  }\r\n\r\n  /**\r\n   * Draws the axes with labels\r\n   * @param {String} xlabel\r\n   * @param {String} ylabel\r\n   */\r\n  drawaxes(xlabel = \"X\", ylabel = \"Y\") {\r\n    // write labels\r\n    this.ctx.font = \"10pt Arial\";\r\n    this.ctx.fillStyle = \"#000000\";\r\n    this.ctx.textAlign = \"right\";\r\n    this.ctx.textBaseline = \"top\";\r\n\r\n    this.ctx.fillText(ylabel, this.x0 + 5, this.yEnd - 20);\r\n    this.ctx.fillText(xlabel, this.xEnd + 20, this.y0 + 15);\r\n\r\n    // draw axes\r\n    this.ctx.strokeStyle = \"#000000\";\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(this.xStart, this.y0);\r\n    this.ctx.lineTo(this.xEnd, this.y0);\r\n    this.ctx.moveTo(this.x0, this.yStart);\r\n    this.ctx.lineTo(this.x0, this.yEnd);\r\n    this.ctx.stroke();\r\n  }\r\n\r\n  /**\r\n   * Plots a graph give the list of co-ordinates\r\n   * @param {Array} xvals\r\n   * @param {Array} yvals\r\n   * @param {String} color color that the lines and dots will be drawn in. Default red\r\n   * @param {Boolean} dots display dots for points plottes. Default false\r\n   * @param {Boolean} lines join points. default True\r\n   */\r\n  plot(xvals, yvals, color = \"#ff0000\", dots = false, lines = true) {\r\n    this.ctx.fillStyle = color;\r\n    this.ctx.strokeStyle = color;\r\n\r\n    const xvalsPx = xvals.map((x) => this.xValToPx(x));\r\n\r\n    const yvalsPx = yvals.map((y) => this.yValToPx(y));\r\n\r\n    if (dots) {\r\n      for (let i = 0; i < xvalsPx.length; i++) {\r\n        this.ctx.beginPath();\r\n        this.ctx.arc(xvalsPx[i], yvalsPx[i], 2, 0, 2 * Math.PI);\r\n        this.ctx.fill();\r\n      }\r\n    }\r\n\r\n    if (lines) {\r\n      this.ctx.beginPath();\r\n      for (let i = 0; i < xvalsPx.length - 1; i++) {\r\n        this.ctx.moveTo(xvalsPx[i], yvalsPx[i]);\r\n        this.ctx.lineTo(xvalsPx[i + 1], yvalsPx[i + 1]);\r\n      }\r\n      this.ctx.stroke();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Converts user y-val to px equivalent on graph\r\n   * @param {Number} val\r\n   * @returns {Number}\r\n   */\r\n  yValToPx(val) {\r\n    const pxFromOrigin = Math.abs(val * this.yUnitToPxMult);\r\n    return val < 0 ? this.y0 + pxFromOrigin : this.y0 - pxFromOrigin;\r\n  }\r\n\r\n  /**\r\n   * Converst user x-val to px equivalent on graph\r\n   * @param {Number} val\r\n   * @returns {Number}\r\n   */\r\n  xValToPx(val) {\r\n    const pxFromOrigin = Math.abs(val * this.xUnitToPxMult);\r\n    return val < 0 ? this.x0 - pxFromOrigin : this.x0 + pxFromOrigin;\r\n  }\r\n\r\n  /**\r\n   * Calculate x-y value for a given function\r\n   * @param {Function} fn\r\n   * @param {Number} xmin\r\n   * @param {Number} xmax\r\n   * @param {Number} numPoints\r\n   * @returns {Object} Object containing one array with the x-values and another with the corresponding y-values\r\n   */\r\n  createPoints(fn, xmin, xmax, numPoints = 100) {\r\n    const retObj = {\r\n      xVals: [],\r\n      yVals: [],\r\n    };\r\n    const xtick = (xmax - xmin) / numPoints;\r\n    for (let i = xmin; i <= xmax; i += xtick) {\r\n      retObj.xVals.push(i);\r\n      retObj.yVals.push(fn(i));\r\n    }\r\n    // ensure that the graph ends at xmax\r\n    if (retObj.xVals[retObj.xVals.length - 1] !== xmax) {\r\n      retObj.xVals[retObj.xVals.length - 1] = xmax;\r\n      retObj.yVals[retObj.yVals.length - 1] = fn(xmax);\r\n    }\r\n    return retObj;\r\n  }\r\n}\r\n","import { Ball } from \"../../shared/Ball\";\r\nimport { Graph } from \"../../shared/Graph\";\r\n\r\nconst canvas = document.querySelector(\"canvas\");\r\nconst context = canvas.getContext(\"2d\");\r\n\r\nconst graph = new Graph(\r\n  context,\r\n  -2.5,\r\n  2.5,\r\n  -10,\r\n  10,\r\n  canvas.width / 2,\r\n  250,\r\n  450,\r\n  350\r\n);\r\n\r\ngraph.drawgrid(1, 0.1, 2, 0.4);\r\ngraph.drawaxes();\r\n\r\nconst fn = (x) => -0.5 * x ** 5 + 3 * x ** 3 + x ** 2 - 2 * x - 3;\r\n\r\nconst { xVals, yVals } = graph.createPoints(fn, -2.5, 2.5);\r\ngraph.plot(xVals, yVals);\r\n\r\nconst ball = new Ball({ radius: 10 });\r\nlet interval;\r\nlet n = 0;\r\nplaceBall();\r\nanimateBall();\r\n\r\nfunction animateBall() {\r\n  interval = setupTimer();\r\n}\r\n\r\nfunction setupTimer() {\r\n  return setInterval(moveBall, 1000 / 60);\r\n}\r\n\r\nfunction placeBall() {\r\n  ball.x = graph.xValToPx(xVals[0]);\r\n  ball.y = graph.yValToPx(yVals[0]);\r\n  ball.drawOnCanvas(context);\r\n}\r\n\r\nfunction moveBall() {\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n  graph.drawgrid(1, 0.1, 2, 0.4);\r\n  graph.drawaxes();\r\n  graph.plot(xVals, yVals);\r\n\r\n  ball.x = graph.xValToPx(xVals[n]);\r\n  ball.y = graph.yValToPx(yVals[n]);\r\n  ball.drawOnCanvas(context);\r\n  n++;\r\n  if (n === xVals.length) {\r\n    clearInterval(interval);\r\n  }\r\n}\r\n"]}